# 한국 마작(Korean Mahjong)

이 프로젝트는 Pygame을 사용하여 구현된 한국식 마작 게임입니다. 플레이어 1명과 3명의 AI가 대전하는 구조로 되어 있으며, 한국 마작의 독특한 규칙과 상세한 게임 매커니즘을 포함하고 있습니다.

## 주요 기능

*   **GUI 기반 게임 플레이**: Pygame을 사용하여 그래픽 인터페이스를 제공합니다.
*   **1인 플레이**: 사용자는 3명의 AI 플레이어와 대전합니다.
*   **상세한 마작 규칙 구현**:
    *   4몸통 1머리 기본 화료(승리) 조건
    *   탕야오, 핑후, 일기통관 등 다양한 역(Yaku) 판정
    *   '1삭'을 꽃패로 사용하는 독특한 규칙
*   **지능형 AI**: 간단하지만 전략적인 AI가 펑/깡/론과 같은 액션을 수행하고 버릴 패를 결정합니다.
*   **동적 애니메이션**: 패를 섞고, 나누고, 버리는 과정이 부드러운 애니메이션으로 표현됩니다.
*   **정확한 패산 관리**: 주사위 값에 따라 패산을 자르고, 왕패(데드월)를 설정하며, 꽃패 보충패를 뽑는 등 복잡한 패산 관리 규칙이 정확하게 구현되어 있습니다.

## 의존성 (Dependencies)

이 게임을 실행하기 위해서는 **Pygame** 라이브러리가 필요합니다.

```bash
pip install pygame
```

## 실행 방법

프로젝트의 루트 디렉토리에서 다음 명령어를 실행하여 게임을 시작합니다.

```bash
python main.py
```

## 프로젝트 구조 (아키텍처)

이 프로젝트는 각 기능이 모듈화되어 관리됩니다.

*   `main.py`
    *   게임의 메인 루프입니다.
    *   Pygame 윈도우를 생성하고, 모든 이벤트를 처리하며, 화면을 렌더링합니다.
    *   다른 모든 모듈을 통합하여 게임 전체의 흐름을 제어하는 중앙 허브 역할을 합니다.

*   `mahjong_game.py`
    *   마작의 핵심 규칙과 판정 로직을 담고 있습니다.
    *   **주요 기능**: 패 정렬, 승리 조건 판정, 역(Yaku) 계산, 점수 산정 등 마작의 근본적인 규칙을 정의합니다.

*   `mahjong_ai.py`
    *   3명의 AI 플레이어의 의사결정 로직을 담당합니다.
    *   **주요 기능**: 버릴 패를 선택하고, 다른 플레이어가 버린 패에 대해 펑/깡/론을 할지 확률적으로 결정합니다.

*   `wall_manager.py`
    *   게임의 가장 복잡한 부분 중 하나인 패산(Wall)을 관리합니다.
    *   **주요 기능**: 104개의 패를 섞고 쌓으며, 주사위 값에 따라 패산을 자릅니다. 또한 왕패(데드월)를 분리하고, 보충패를 정확한 위치에서 뽑아오는 로직을 처리합니다.

*   `discard_manager.py`
    *   플레이어와 AI가 버린 패를 관리하고 화면에 표시합니다.
    *   각 플레이어의 버림패 영역에 패가 올바른 순서와 방향으로 놓이도록 제어합니다.

*   `action_dialog_manager.py`
    *   플레이어가 "펑", "깡", "론", "패스" 등의 액션을 선택할 수 있는 UI 다이얼로그를 관리합니다.

*   `mahjong_resources.py`
    *   게임에 필요한 모든 리소스(타일 이미지, 폰트 등)를 로드하고 관리합니다.

*   `mahjong_animation.py`
    *   게임의 시각적 효과를 담당합니다.
    *   패산 쌓기, 배패, 패 버리기 등의 애니메이션 로직을 포함합니다.

*   `tiles/` (디렉토리)
    *   모든 마작패 이미지가 저장되어 있습니다.

*   `click.wav`
    *   게임 내에서 사용되는 클릭 효과음 파일입니다.